FROM amazoncorretto:17

WORKDIR /app

COPY gradelw* ./
COPY gradle/ gradle/

COPY build.gradle settings.gradle ./

RUN ./gradlew build --no-daemon

COPY src/ src/

RUN ./gradlew build --no-daemon

CMD ["java", "-jar", "build/libs/here-law.jar"]

EXPOSE 8080